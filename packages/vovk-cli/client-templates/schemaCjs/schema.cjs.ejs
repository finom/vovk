<%- `// auto-generated by Vovk.ts ${new Date().toISOString()}` %>
<% if(t.isTsStandalone) { %>
const schema = require('./schema.json');
module.exports.schema = schema;
<% } else { %>
const meta = require('./<%= t.schemaOutDir %>/_meta.json');
const segments = {<% Object.values(t.schema.segments).filter((segment) => segment.emitSchema).forEach((segment) => { %>
    '<%= segment.segmentName %>': require('./<%= t.schemaOutDir %>/<%= segment.segmentName || t.ROOT_SEGMENT_FILE_NAME %>.json'),<% }) %>
};
const schema = {
  $schema: '<%- t.VovkSchemaIdEnum.SCHEMA %>',
  segments,
  meta: {
    apiRoot: '<%= t.apiRoot %>', // for debugging purposes
    ...meta
  }
};

module.exports.schema = schema;
<% } %>