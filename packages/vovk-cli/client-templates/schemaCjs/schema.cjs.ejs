<%- t.getFirstLineBanner() %>
<% if(t.isVovkProject) { %>
const meta = require('./<%= t.schemaOutDir %>/_meta.json');
<% } else { %>
const meta = <%- JSON.stringify(t.schema.meta, null, 2) %>;
<% } %>

<% if(t.hasMixins) { %>
const mixins = require('./mixins.json');
<% } %>
const segments = {<% Object.values(t.schema.segments).filter((segment) => segment.emitSchema && segment.segmentType !== 'mixin').forEach((segment) => { %>
    '<%= segment.segmentName %>': require('./<%= t.schemaOutDir %>/<%= segment.segmentName || t.ROOT_SEGMENT_FILE_NAME %>.json'),
<% }) %>
  <% if(t.hasMixins) { %>
  ...mixins,
  <% } %>
};
const schema = {
  $schema: '<%- t.VovkSchemaIdEnum.SCHEMA %>',
  segments,
  meta,
};

module.exports.schema = schema;
