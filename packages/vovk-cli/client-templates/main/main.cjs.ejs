<%- `// auto-generated ${new Date().toISOString()}\n/* eslint-disable */` %>
const { fetcher } = require('<%= t.imports.fetcher %>');
const { createRPC } = require('<%= t.imports.createRPC %>');
const { fullSchema } = require('./fullSchema.cjs');
const { validateOnClient = null } = <%- t.imports.validateOnClient ? `require('${t.imports.validateOnClient}')` : '{}'%>;
const apiRoot = '<%= t.apiRoot %>';
<% Object.values(t.fullSchema.segments).forEach((segment) => { 
  Object.keys(segment.controllers).forEach((controllerName) => { %>
exports.<%= controllerName %> = createRPC(
  fullSchema, '<%= segment.segmentName %>', '<%= controllerName %>',
  { fetcher, validateOnClient, defaultOptions: { apiRoot } }
);
  <% })
}) %>
exports.fullSchema = fullSchema;