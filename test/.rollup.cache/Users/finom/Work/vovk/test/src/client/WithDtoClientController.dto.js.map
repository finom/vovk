{"version":3,"file":"WithDtoClientController.dto.js","sourceRoot":"","sources":["WithDtoClientController.dto.ts"],"names":[],"mappings":";AAAA,OAAO,EACL,QAAQ,EACR,GAAG,EACH,GAAG,EACH,KAAK,EACL,SAAS,EACT,SAAS,EACT,OAAO,EACP,OAAO,EACP,KAAK,EACL,MAAM,EACN,SAAS,EACT,YAAY,EACZ,YAAY,EACZ,QAAQ,EACR,cAAc,EACd,UAAU,EACV,SAAS,EACT,QAAQ,EACR,IAAI,EACJ,OAAO,GACR,MAAM,iBAAiB,CAAC;AACzB,OAAO,EAAE,IAAI,EAAE,MAAM,mBAAmB,CAAC;AACzC,OAAO,EAAE,UAAU,EAAE,MAAM,4BAA4B,CAAC;AAExD;;;;GAIG;AACH,MAAM,OAAO,gBAAgB;IAG3B,KAAK,CAAS;CACf;AADC;IAFC,QAAQ,EAAE;IACV,SAAS,CAAC,CAAC,CAAC;;+CACC;AAGhB,MAAM,OAAO,iBAAiB;IAG5B,MAAM,CAAS;CAChB;AADC;IAFC,QAAQ,EAAE;IACV,SAAS,CAAC,CAAC,CAAC;;iDACE;AAGjB,MAAM,OAAO,kBAAkB;IAG7B,GAAG,CAAS;IAIZ,GAAG,CAAS;CACb;AALC;IAFC,QAAQ,EAAE;IACV,SAAS,CAAC,CAAC,CAAC;;+CACD;AAIZ;IAFC,QAAQ,EAAE;IACV,SAAS,CAAC,CAAC,CAAC;;+CACD;AAGd,MAAM,OAAO,kBAAkB;IAG7B,IAAI,CAAmB;IAIvB,KAAK,CAAoB;IAIzB,MAAM,CAAqB;IAI3B,UAAU,CAAqB;CAChC;AAbC;IAFC,cAAc,EAAE;IAChB,IAAI,CAAC,GAAG,EAAE,CAAC,gBAAgB,CAAC;8BACvB,gBAAgB;gDAAC;AAIvB;IAFC,cAAc,EAAE;IAChB,IAAI,CAAC,GAAG,EAAE,CAAC,iBAAiB,CAAC;8BACvB,iBAAiB;iDAAC;AAIzB;IAFC,cAAc,EAAE;IAChB,IAAI,CAAC,GAAG,EAAE,CAAC,kBAAkB,CAAC;8BACvB,kBAAkB;kDAAC;AAI3B;IAFC,cAAc,EAAE;IAChB,IAAI,CAAC,GAAG,EAAE,CAAC,kBAAkB,CAAC;8BACnB,kBAAkB;sDAAC;AAGjC;;;;GAIG;AACH,MAAM,OAAO,mBAAmB;IAG9B,MAAM,CAAS;CAChB;AADC;IAFC,QAAQ,EAAE;IACV,SAAS,CAAC,CAAC,CAAC;;mDACE;AAGjB;;;;GAIG;AACH,MAAM,OAAO,iBAAiB;IAG5B,KAAK,CAAS;CACf;AADC;IAFC,QAAQ,EAAE;IACV,SAAS,CAAC,CAAC,CAAC;;gDACC;AAGhB;;;;GAIG;AACH,MAAM,OAAO,eAAe;IAG1B,GAAG,CAAS;IAIZ,GAAG,CAAS;CACb;AALC;IAFC,QAAQ,EAAE;IACV,SAAS,CAAC,CAAC,CAAC;;4CACD;AAIZ;IAFC,QAAQ,EAAE;IACV,SAAS,CAAC,CAAC,CAAC;;4CACD;AAGd;;;;GAIG;AACH,MAAM,OAAO,YAAY;IAEvB,OAAO,CAAS;CACjB;AADC;IADC,QAAQ,EAAE;;6CACK;AAGlB,MAAM,OAAO,eAAe;IAE1B,GAAG,CAAS;IAKZ,SAAS,CAAY;IAKrB,SAAS,CAAgB;CAC1B;AAXC;IADC,QAAQ,EAAE;;4CACC;AAKZ;IAHC,UAAU,EAAE;IACZ,OAAO,EAAE;IACT,QAAQ,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;;kDACJ;AAKrB;IAHC,UAAU,EAAE;IACZ,cAAc,EAAE;IAChB,IAAI,CAAC,GAAG,EAAE,CAAC,YAAY,CAAC;8BACb,YAAY;kDAAC;AAG3B,MAAM,OAAO,IAAI;IAEf,CAAC,CAAS;IAUV,AADA,+BAA+B;IAC/B,YAAY,CAAoB;CACjC;AAXC;IADC,QAAQ,EAAE;;+BACD;AAUV;IARC,OAAO,EAAE;IACT,cAAc,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;IAC9B,UAAU,CAAC;QACV,KAAK,EAAE;YACL,IAAI,EAAE,+BAA+B;SACtC;KACF,CAAC;IACF,+BAA+B;;;0CACC;AAGlC,MAAM,OAAO,IAAI;IAEf,CAAC,CAAS;IAIV,CAAC,CAAW;IAIZ,CAAC,CAAO;CACT;AATC;IADC,QAAQ,EAAE;;+BACD;AAIV;IAFC,OAAO,EAAE;IACT,QAAQ,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;;+BACb;AAIZ;IAFC,cAAc,EAAE;IAChB,IAAI,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC;8BACd,IAAI;+BAAC;AAGV,MAAM,OAAO,oBAAoB;IAG/B,CAAC,CAAS;IAIV,CAAC,CAAW;IAIZ,CAAC,CAAO;CACT;AATC;IAFC,SAAS,CAAC,CAAC,CAAC;IACZ,QAAQ,EAAE;;+CACD;AAIV;IAFC,OAAO,EAAE;IACT,QAAQ,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;;+CACb;AAIZ;IAFC,cAAc,EAAE;IAChB,IAAI,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC;8BACd,IAAI;+CAAC;AAGV;;;;GAIG;AACH,MAAM,OAAO,oBAAoB;IAE/B,WAAW,CAAS;CACrB;AADC;IADC,QAAQ,EAAE;;yDACS;AAGtB,MAAM,OAAO,qBAAqB;IAGhC,KAAK,CAAS;CACf;AADC;IAFC,QAAQ,EAAE;IACV,SAAS,CAAC,CAAC,CAAC;;oDACC;AAGhB;;;;GAIG;AACH,MAAM,OAAO,oBAAoB;IAG/B,MAAM,CAAW;CAClB;AADC;IAFC,OAAO,EAAE;IACT,QAAQ,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;;oDACR;AAGnB;;;;KAIK;AAEL,MAAM,OAAO,YAAY;IAEvB,KAAK,CAAwB;CAC9B;AADC;IADC,IAAI,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;;2CACE;AAG/B;;;;GAIG;AACH,MAAM,OAAO,cAAc;IAEzB,MAAM,CAAW;CAClB;AADC;IADC,OAAO,EAAE;;8CACO;AAGnB,MAAM,OAAO,cAAc;IAGzB,aAAa,CAAS;IAItB,aAAa,CAAU;CACxB;AALC;IAFC,SAAS,EAAE;IACX,QAAQ,EAAE;;qDACW;AAItB;IAFC,UAAU,EAAE;IACZ,QAAQ,EAAE;;qDACY;AAGzB,MAAM,OAAO,YAAY;IAEvB,UAAU,CAAS;CACpB;AADC;IADC,QAAQ,EAAE;;gDACQ;AAGrB,MAAM,SAAS;IAEb,CAAC,CAAS;CACX;AADC;IADC,QAAQ,EAAE;;oCACD;AAEZ,MAAM,SAAS;IAEb,CAAC,CAAS;CACX;AADC;IADC,QAAQ,EAAE;;oCACD;AAGZ,MAAM,OAAO,cAAc;IAEzB,UAAU,CAAkB;IAE5B,qBAAqB;IAGrB,WAAW,CAAS;IAIpB,WAAW,CAAS;IAGpB,oBAAoB,CAAS,CAAC,yDAAyD;IAGvF,oBAAoB,CAAS,CAAC,2DAA2D;IAGzF,cAAc,CAAS,CAAC,8DAA8D;IAGtF,OAAO,CAAS;IAKhB,SAAS,CAAS;IAElB,qBAAqB;IAGrB,aAAa,CAAS;IAItB,aAAa,CAAS;IAItB,WAAW,CAAS;IAGpB,SAAS,CAAS;IAGlB,OAAO,CAAS;IAGhB,QAAQ,CAAS;IAGjB,YAAY,CAAS,CAAC,kDAAkD;IAExE,oBAAoB;IAIpB,YAAY,CAAW;IAKvB,YAAY,CAAW;IAEvB,qBAAqB;IAGrB,YAAY,CAAiB;IAI7B,UAAU,CAAe,CAAC,8EAA8E;IAExG,2FAA2F;IAC3F,aAAa,CAA4B;IACzC,8CAA8C;IAE9C,aAAa,CAAwB;CACtC;AA9EC;IADC,IAAI,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;;kDACM;AAK5B;IAFC,QAAQ,EAAE;IACV,GAAG,CAAC,CAAC,CAAC;;mDACa;AAIpB;IAFC,QAAQ,EAAE;IACV,GAAG,CAAC,GAAG,CAAC;;mDACW;AAGpB;IADC,QAAQ,EAAE;;4DACkB;AAG7B;IADC,QAAQ,EAAE;;4DACkB;AAG7B;IADC,QAAQ,EAAE;;sDACY;AAGvB;IADC,KAAK,EAAE;;+CACQ;AAKhB;IAHC,KAAK,EAAE;IACP,GAAG,CAAC,UAAU,CAAC;IACf,GAAG,CAAC,CAAC,UAAU,CAAC;;iDACC;AAKlB;IAFC,QAAQ,EAAE;IACV,SAAS,CAAC,CAAC,CAAC;;qDACS;AAItB;IAFC,QAAQ,EAAE;IACV,SAAS,CAAC,EAAE,CAAC;;qDACQ;AAItB;IAFC,QAAQ,EAAE;IACV,OAAO,CAAC,eAAe,CAAC;;mDACL;AAGpB;IADC,OAAO,EAAE;;iDACQ;AAGlB;IADC,KAAK,EAAE;;+CACQ;AAGhB;IADC,MAAM,EAAE;;gDACQ;AAGjB;IADC,SAAS,EAAE;;oDACS;AAMrB;IAHC,YAAY,CAAC,CAAC,CAAC;IACf,YAAY,CAAC,EAAE,CAAC;IAChB,QAAQ,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;;oDACF;AAKvB;IAHC,YAAY,CAAC,CAAC,CAAC;IACf,YAAY,CAAC,EAAE,CAAC;IAChB,QAAQ,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;;oDACF;AAKvB;IAFC,cAAc,EAAE;IAChB,IAAI,CAAC,GAAG,EAAE,CAAC,cAAc,CAAC;8BACb,cAAc;oDAAC;AAI7B;IAFC,cAAc,EAAE;IAChB,IAAI,CAAC,GAAG,EAAE,CAAC,YAAY,CAAC;8BACb,YAAY;kDAAC;AAMzB;IADC,QAAQ,EAAE;;qDAC0B","sourcesContent":["import {\n  IsNumber,\n  Min,\n  Max,\n  IsInt,\n  MinLength,\n  MaxLength,\n  Matches,\n  IsEmail,\n  IsUrl,\n  IsUUID,\n  IsISO8601,\n  ArrayMinSize,\n  ArrayMaxSize,\n  IsString,\n  ValidateNested,\n  IsOptional,\n  IsDefined,\n  IsObject,\n  IsIn,\n  IsArray,\n} from 'class-validator';\nimport { Type } from 'class-transformer';\nimport { JSONSchema } from 'class-validator-jsonschema';\n\n/**\n * -------------------------------------------------------------------------\n *  DTOs for handleAll\n * -------------------------------------------------------------------------\n */\nexport class HandleAllBodyDto {\n  @IsString()\n  @MaxLength(5)\n  hello: string;\n}\n\nexport class HandleAllQueryDto {\n  @IsString()\n  @MaxLength(5)\n  search: string;\n}\n\nexport class HandleAllParamsDto {\n  @IsString()\n  @MaxLength(5)\n  foo: string;\n\n  @IsString()\n  @MaxLength(5)\n  bar: string;\n}\n\nexport class HandleAllOutputDto {\n  @ValidateNested()\n  @Type(() => HandleAllBodyDto)\n  body: HandleAllBodyDto;\n\n  @ValidateNested()\n  @Type(() => HandleAllQueryDto)\n  query: HandleAllQueryDto;\n\n  @ValidateNested()\n  @Type(() => HandleAllParamsDto)\n  params: HandleAllParamsDto;\n\n  @ValidateNested()\n  @Type(() => HandleAllParamsDto)\n  vovkParams: HandleAllParamsDto;\n}\n\n/**\n * -------------------------------------------------------------------------\n *  DTOs for handleQuery\n * -------------------------------------------------------------------------\n */\nexport class HandleQueryQueryDto {\n  @IsString()\n  @MaxLength(5)\n  search: string;\n}\n\n/**\n * -------------------------------------------------------------------------\n *  DTOs for handleBody\n * -------------------------------------------------------------------------\n */\nexport class HandleBodyBodyDto {\n  @IsString()\n  @MaxLength(5)\n  hello: string;\n}\n\n/**\n * -------------------------------------------------------------------------\n *  DTOs for handleParams\n * -------------------------------------------------------------------------\n */\nexport class HandleParamsDto {\n  @IsString()\n  @MaxLength(5)\n  foo: string;\n\n  @IsString()\n  @MaxLength(5)\n  bar: string;\n}\n\n/**\n * -------------------------------------------------------------------------\n *  DTOs for handleNestedQuery\n * -------------------------------------------------------------------------\n */\nexport class NestedObjDto {\n  @IsString()\n  deepKey: string;\n}\n\nexport class ArrOfObjectsDto {\n  @IsString()\n  foo: string;\n\n  @IsOptional()\n  @IsArray()\n  @IsString({ each: true })\n  nestedArr?: string[];\n\n  @IsOptional()\n  @ValidateNested()\n  @Type(() => NestedObjDto)\n  nestedObj?: NestedObjDto;\n}\n\nexport class DDto {\n  @IsString()\n  x: string;\n\n  @IsArray()\n  @ValidateNested({ each: true })\n  @JSONSchema({\n    items: {\n      $ref: '#/definitions/ArrOfObjectsDto',\n    },\n  })\n  // @Type(() => ArrOfObjectsDto)\n  arrOfObjects: ArrOfObjectsDto[];\n}\n\nexport class ZDto {\n  @IsString()\n  f: string;\n\n  @IsArray()\n  @IsString({ each: true })\n  u: string[];\n\n  @ValidateNested()\n  @Type(() => DDto)\n  d: DDto;\n}\n\nexport class HandleNestedQueryDto {\n  @MaxLength(5)\n  @IsString()\n  x: string;\n\n  @IsArray()\n  @IsString({ each: true })\n  y: string[];\n\n  @ValidateNested()\n  @Type(() => ZDto)\n  z: ZDto;\n}\n\n/**\n * -------------------------------------------------------------------------\n *  DTOs for handleOutput\n * -------------------------------------------------------------------------\n */\nexport class HandleOutputQueryDto {\n  @IsString()\n  helloOutput: string;\n}\n\nexport class HandleOutputOutputDto {\n  @IsString()\n  @MaxLength(5)\n  hello: string;\n}\n\n/**\n * -------------------------------------------------------------------------\n *  DTOs for handleStream\n * -------------------------------------------------------------------------\n */\nexport class HandleStreamQueryDto {\n  @IsArray()\n  @IsString({ each: true })\n  values: string[];\n}\n\n/**\n * -------------------------------------------------------------------------\n * DTOs for handleStream with iteration\n * -------------------------------------------------------------------------\n * */\n\nexport class IterationDto {\n  @IsIn(['a', 'b', 'c', 'd'])\n  value: 'a' | 'b' | 'c' | 'd';\n}\n\n/**\n * -------------------------------------------------------------------------\n *  DTOs for values with a, b, c, d\n * -------------------------------------------------------------------------\n */\nexport class QueryValuesDto {\n  @IsArray()\n  values: string[];\n}\n\nexport class RequiredObject {\n  @IsDefined()\n  @IsString()\n  requiredField: string;\n\n  @IsOptional()\n  @IsNumber()\n  optionalField?: number;\n}\n\nexport class StrictObject {\n  @IsString()\n  knownField: string;\n}\n\nclass AllOfDtoA {\n  @IsString()\n  a: string;\n}\nclass AllOfDtoB {\n  @IsNumber()\n  b: number;\n}\n\nexport class ComplainingDto {\n  @IsIn(['a', 'b', 'c'])\n  enum_value: 'a' | 'b' | 'c';\n\n  // Number validations\n  @IsNumber()\n  @Min(1)\n  num_minimum: number;\n\n  @IsNumber()\n  @Max(100)\n  num_maximum: number;\n\n  @IsNumber()\n  num_exclusiveMinimum: number; // WARNING: Can't impelemt gt(1) with standard decorators\n\n  @IsNumber()\n  num_exclusiveMaximum: number; // WARNING: Can't impelemt lt(100) with standard decorators\n\n  @IsNumber()\n  num_multipleOf: number; // WARNING: Can't impelemt multipleOf with standard decorators\n\n  @IsInt()\n  num_int: number;\n\n  @IsInt()\n  @Max(2147483647)\n  @Min(-2147483648)\n  num_int32: number;\n\n  // String validations\n  @IsString()\n  @MinLength(3)\n  str_minLength: string;\n\n  @IsString()\n  @MaxLength(50)\n  str_maxLength: string;\n\n  @IsString()\n  @Matches(/^[A-Z][a-z]*$/)\n  str_pattern: string;\n\n  @IsEmail()\n  str_email: string;\n\n  @IsUrl()\n  str_url: string;\n\n  @IsUUID()\n  str_uuid: string;\n\n  @IsISO8601()\n  str_datetime: string; // WARNING: Client validation is ignored in Python\n\n  // Array validations\n  @ArrayMinSize(1)\n  @ArrayMaxSize(10)\n  @IsString({ each: true })\n  arr_minItems: string[];\n\n  @ArrayMinSize(1)\n  @ArrayMaxSize(10)\n  @IsString({ each: true })\n  arr_maxItems: string[];\n\n  // Object validations\n  @ValidateNested()\n  @Type(() => RequiredObject)\n  obj_required: RequiredObject;\n\n  @ValidateNested()\n  @Type(() => StrictObject)\n  obj_strict: StrictObject; // Cannot enforce \"strict\" (no additional properties) with standard decorators\n\n  // This can be string OR number OR boolean, but there's no standard way to represent unions\n  logical_anyOf: string | number | boolean;\n  // We can't represent an intersection directly\n  @IsObject()\n  logical_allOf: AllOfDtoA & AllOfDtoB;\n}\n"]}