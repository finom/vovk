{"version":3,"file":"DtoControllerAndServiceEntityController.js","sourceRoot":"","sources":["DtoControllerAndServiceEntityController.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,MAAM,MAAM,CAAC;AACnD,OAAO,EAAE,OAAO,EAAE,MAAM,UAAU,CAAC;AACnC,OAAO,EAAE,QAAQ,EAAE,IAAI,EAAE,MAAM,iBAAiB,CAAC;AAEjD,OAAO,oCAAoC,MAAM,wCAAwC,CAAC;AAE1F,MAAM,0CAA0C;IAE9C,MAAM,CAAS;CAChB;AADC;IADC,QAAQ,EAAE;;0EACI;AAGjB,MAAM,0CAA0C;IAE9C,GAAG,CAAgB;CACpB;AADC;IADC,IAAI,CAAC,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;;uEACF;AAGrB,MAAM,2CAA2C;IAE/C,CAAC,CAAS;CACX;AADC;IADC,QAAQ,EAAE;;sEACD;AAIG,IAAM,uCAAuC,GAA7C,MAAM,uCAAuC;IAEnD,AAAP,MAAM,CAAC,kCAAkC,GAAG,OAAO,CAAC;QAClD,KAAK,EAAE,0CAA0C;QACjD,MAAM,CAAC,GAAG;YACR,MAAM,EAAE,MAAM,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;YAEpC,OAAO,oCAAoC,CAAC,kCAAkC,CAAC,MAAM,CAAC,CAAC;QACzF,CAAC;KACF,CAAC,CAAC;IAGI,AAAP,MAAM,CAAC,mCAAmC,GAAG,OAAO,CAAC;QACnD,IAAI,EAAE,0CAA0C;QAChD,KAAK,EAAE,2CAA2C;QAClD,KAAK,CAAC,MAAM,CAAC,GAAG,EAAE,MAAsB;YACtC,MAAM,EAAE,EAAE,EAAE,GAAG,MAAM,CAAC;YACtB,MAAM,IAAI,GAAG,MAAM,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;YACnC,MAAM,EAAE,CAAC,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;YAE/B,OAAO,oCAAoC,CAAC,mCAAmC,CAAC,EAAE,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;QAC/F,CAAC;KACF,CAAC,CAAC;IAGI,AAAP,MAAM,CAAC,mCAAmC,GAAG,GAAG,EAAE;QAChD,MAAM;IACR,CAAC,CAAC;IAGK,AAAP,MAAM,CAAC,mCAAmC,GAAG,GAAG,EAAE;QAChD,MAAM;IACR,CAAC,CAAC;;AA9BK;IADN,GAAG,EAAE;;yFAQH;AAGI;IADN,GAAG,CAAC,KAAK,CAAC;;0FAWR;AAGI;IADN,IAAI,EAAE;;0FAGL;AAGK;IADN,GAAG,CAAC,KAAK,CAAC;;0FAGT;AAhCiB,uCAAuC;IAD3D,MAAM,CAAC,qCAAqC,CAAC;GACzB,uCAAuC,CAiC3D;eAjCoB,uCAAuC","sourcesContent":["import { prefix, get, put, post, del } from 'vovk';\nimport { withDto } from 'vovk-dto';\nimport { IsString, IsIn } from 'class-validator';\n\nimport DtoControllerAndServiceEntityService from './DtoControllerAndServiceEntityService';\n\nclass GetDtoControllerAndServiceEntitiesQueryDto {\n  @IsString()\n  search: string;\n}\n\nclass UpdateDtoControllerAndServiceEntityBodyDto {\n  @IsIn(['bar', 'baz'])\n  foo: 'bar' | 'baz';\n}\n\nclass UpdateDtoControllerAndServiceEntityQueryDto {\n  @IsString()\n  q: string;\n}\n\n@prefix('dto-controller-and-service-entities')\nexport default class DtoControllerAndServiceEntityController {\n  @get()\n  static getDtoControllerAndServiceEntities = withDto({\n    query: GetDtoControllerAndServiceEntitiesQueryDto,\n    handle(req) {\n      const { search } = req.vovk.query();\n\n      return DtoControllerAndServiceEntityService.getDtoControllerAndServiceEntities(search);\n    },\n  });\n\n  @put(':id')\n  static updateDtoControllerAndServiceEntity = withDto({\n    body: UpdateDtoControllerAndServiceEntityBodyDto,\n    query: UpdateDtoControllerAndServiceEntityQueryDto,\n    async handle(req, params: { id: string }) {\n      const { id } = params;\n      const body = await req.vovk.body();\n      const { q } = req.vovk.query();\n\n      return DtoControllerAndServiceEntityService.updateDtoControllerAndServiceEntity(id, q, body);\n    },\n  });\n\n  @post()\n  static createDtoControllerAndServiceEntity = () => {\n    // ...\n  };\n\n  @del(':id')\n  static deleteDtoControllerAndServiceEntity = () => {\n    // ...\n  };\n}\n"]}