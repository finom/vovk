{"version":3,"file":"YupControllerOnlyEntityController.js","sourceRoot":"","sources":["YupControllerOnlyEntityController.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,MAAM,MAAM,CAAC;AACnD,OAAO,EAAE,OAAO,EAAE,MAAM,UAAU,CAAC;AACnC,OAAO,KAAK,GAAG,MAAM,KAAK,CAAC;AAGZ,IAAM,iCAAiC,GAAvC,MAAM,iCAAiC;IAE7C,AAAP,MAAM,CAAC,4BAA4B,GAAG,OAAO,CAAC;QAC5C,KAAK,EAAE,GAAG,CAAC,MAAM,CAAC,EAAE,MAAM,EAAE,GAAG,CAAC,MAAM,EAAE,EAAE,CAAC;QAC3C,MAAM,CAAC,GAAG;YACR,MAAM,MAAM,GAAG,GAAG,CAAC,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YAEtD,OAAO,EAAE,OAAO,EAAE,EAAE,EAAE,MAAM,EAAE,CAAC;QACjC,CAAC;KACF,CAAC,CAAC;IAGI,AAAP,MAAM,CAAC,6BAA6B,GAAG,OAAO,CAAC;QAC7C,IAAI,EAAE,GAAG,CAAC,MAAM,CAAC;YACf,GAAG,EAAE,GAAG,CAAC,KAAK,EAAE,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC,CAAC,QAAQ,EAAE;SAClD,CAAC;QACF,KAAK,EAAE,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,MAAM,EAAE,EAAE,CAAC;QACtC,KAAK,CAAC,MAAM,CAAC,GAAG,EAAE,MAAsB;YACtC,MAAM,EAAE,EAAE,EAAE,GAAG,MAAM,CAAC;YACtB,MAAM,IAAI,GAAG,MAAM,GAAG,CAAC,IAAI,EAAE,CAAC;YAC9B,MAAM,CAAC,GAAG,GAAG,CAAC,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YAE5C,OAAO,EAAE,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC;QACzB,CAAC;KACF,CAAC,CAAC;IAGI,AAAP,MAAM,CAAC,6BAA6B,GAAG,GAAG,EAAE;QAC1C,MAAM;IACR,CAAC,CAAC;IAGK,AAAP,MAAM,CAAC,6BAA6B,GAAG,GAAG,EAAE;QAC1C,MAAM;IACR,CAAC,CAAC;;AAhCK;IADN,GAAG,EAAE;;6EAQH;AAGI;IADN,GAAG,CAAC,KAAK,CAAC;;8EAaR;AAGI;IADN,IAAI,EAAE;;8EAGL;AAGK;IADN,GAAG,CAAC,KAAK,CAAC;;8EAGT;AAlCiB,iCAAiC;IADrD,MAAM,CAAC,8BAA8B,CAAC;GAClB,iCAAiC,CAmCrD;eAnCoB,iCAAiC","sourcesContent":["import { prefix, get, put, post, del } from 'vovk';\nimport { withYup } from 'vovk-yup';\nimport * as yup from 'yup';\n\n@prefix('yup-controller-only-entities')\nexport default class YupControllerOnlyEntityController {\n  @get()\n  static getYupControllerOnlyEntities = withYup({\n    query: yup.object({ search: yup.string() }),\n    handle(req) {\n      const search = req.nextUrl.searchParams.get('search');\n\n      return { results: [], search };\n    },\n  });\n\n  @put(':id')\n  static updateYupControllerOnlyEntity = withYup({\n    body: yup.object({\n      foo: yup.mixed().oneOf(['bar', 'baz']).required(),\n    }),\n    query: yup.object({ q: yup.string() }),\n    async handle(req, params: { id: string }) {\n      const { id } = params;\n      const body = await req.json();\n      const q = req.nextUrl.searchParams.get('q');\n\n      return { id, body, q };\n    },\n  });\n\n  @post()\n  static createYupControllerOnlyEntity = () => {\n    // ...\n  };\n\n  @del(':id')\n  static deleteYupControllerOnlyEntity = () => {\n    // ...\n  };\n}\n"]}